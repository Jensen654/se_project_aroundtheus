!function(){"use strict";class t{constructor(t,e,n){this._name=t.name,this._link=t.link,this._cardSelector=e,this._handleImageClick=n}_setEventListeners(){this._cardImageElement.addEventListener("click",(()=>this._handleImageClick({name:this._name,link:this._link}))),this._likeButton.addEventListener("click",(()=>this._handleLikeButton())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteButton()))}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}_handleLikeButton(){this._likeButton.classList.toggle("card__like-button_active")}returnCardElement(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__trash-button"),this._cardDescription=this._cardElement.querySelector(".card__text"),this._cardImageElement=this._cardElement.querySelector(".card__img"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardDescription.textContent=this._name,this._setEventListeners(),this._cardElement}}class e{constructor(t,e){this._options=t,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=e}_showInputError(t){const e=this._formElement.querySelector(`#${t.id}-error`);t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}_hideInputError(t){const e=this._formElement.querySelector(`#${t.id}-error`);t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_checkFormValidity(){return Array.from(this._inputEls).every((t=>t.validity.valid))}toggleButtonState(){this._checkFormValidity()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)}_setEventListeners(t){t.addEventListener("input",(()=>{this._checkInputValidity(t),this.toggleButtonState()}))}enableValidation(){this._inputEls=this._formElement.querySelectorAll(this._inputSelector),this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._formElement.addEventListener("submit",(t=>{t.preventDefault()})),this._inputEls.forEach((t=>{this._setEventListeners(t,this._submitButton)}))}}class n{constructor(t){this._popupElement=t,this._closeButton=this._popupElement.querySelector(".modal__close"),this._modalContainer=this._popupElement.querySelector(".js-modalContainer"),this._boundHandleEscapeClose=this._handleEscapeClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._boundHandleEscapeClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._boundHandleEscapeClose)}_handleEscapeClose(t){"Escape"===t.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("click",(()=>{this.close()})),this._modalContainer.addEventListener("click",(t=>{t.stopPropagation()}))}}class s extends n{constructor(t,e){super(t),this._handleFormSubmit=e,this._popupForm=this._popupElement.querySelector(".modal__container-form"),this._inputList=this._popupElement.querySelectorAll(".modal__container-input")}_getInputValues(){const t={};return this._inputList.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(t=>{t.preventDefault();const e=this._getInputValues();this._handleFormSubmit(e),this._popupForm.reset()}))}}const i={formSelector:".modal__container-form",inputSelector:".modal__container-input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_error",errorClass:"modal__error_visible"},o=document.querySelector("#card-modal"),r=document.querySelector("#edit-modal"),a=r.querySelector(".modal__container-form"),l=o.querySelector(".modal__container-form"),c=document.querySelector("#image-modal"),u=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__add-button"),m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),p=r.querySelector("#modal-name"),h=r.querySelector("#modal-description"),E=document.querySelector(".cards__list"),v=new e(i,a),C=new e(i,l);v.enableValidation(),C.enableValidation();const S=new class extends n{constructor(t){super(t)}open(t){const e=this._popupElement.querySelector(".modal__image"),n=this._popupElement.querySelector(".modal__image-description");e.src=t.link,e.alt=t.name,n.textContent=t.name,super.open()}}(c);S.setEventListeners();const f=new s(r,(function(t){L.setUserInfo({nameInput:t.title,descriptionInput:t.description}),f.close()})),y=new s(o,(function(t){b({name:t.title,link:t.description}),y.close(),l.reset(),C.toggleButtonState()}));f.setEventListeners(),y.setEventListeners();const k=new class{constructor(t,e){let{items:n,renderer:s}=t;this._items=n,this._render=s,this._container=e}renderItems(){this._items.forEach((t=>{this._render(t)}))}addItem(t){this._container.prepend(t)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:b},E);k.renderItems();const L=new class{constructor(t){let{nameContainer:e,descriptionContainer:n}=t;this._nameContainer=e,this._descriptionContainer=n}getUserInfo(){const t={};return t.profileName=this._nameContainer.textContent,t.profileDescription=this._descriptionContainer.textContent,t}setUserInfo(t){this._nameContainer.textContent=t.nameInput,this._descriptionContainer.textContent=t.descriptionInput}}({nameContainer:m,descriptionContainer:_});function g(t){S.open(t)}function b(e){const n=new t(e,".card-template",g).returnCardElement();k.addItem(n)}u.addEventListener("click",(function(t){!function(){const t=L.getUserInfo();p.value=t.profileName,h.value=t.profileDescription}(),f.open()})),d.addEventListener("click",(t=>{y.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVlDLEVBQU1DLEVBQWNDLEdBQzlCQyxLQUFLQyxNQUFRSixFQUFLSyxLQUNsQkYsS0FBS0csTUFBUU4sRUFBS08sS0FDbEJKLEtBQUtLLGNBQWdCUCxFQUNyQkUsS0FBS00sa0JBQW9CUCxDQUMzQixDQUVBUSxrQkFBQUEsR0FDRVAsS0FBS1Esa0JBQWtCQyxpQkFBaUIsU0FBUyxJQUMvQ1QsS0FBS00sa0JBQWtCLENBQUVKLEtBQU1GLEtBQUtDLE1BQU9HLEtBQU1KLEtBQUtHLFVBRXhESCxLQUFLVSxZQUFZRCxpQkFBaUIsU0FBUyxJQUFNVCxLQUFLVyxzQkFDdERYLEtBQUtZLGNBQWNILGlCQUFpQixTQUFTLElBQzNDVCxLQUFLYSx1QkFFVCxDQUVBQSxtQkFBQUEsR0FDRWIsS0FBS2MsYUFBYUMsU0FDbEJmLEtBQUtjLGFBQWUsSUFDdEIsQ0FFQUgsaUJBQUFBLEdBQ0VYLEtBQUtVLFlBQVlNLFVBQVVDLE9BQU8sMkJBQ3BDLENBRUFDLGlCQUFBQSxHQW1CRSxPQWpCQWxCLEtBQUtjLGFBQWVLLFNBQ2pCQyxjQUFjcEIsS0FBS0ssZUFDbkJnQixRQUFRRCxjQUFjLFNBQ3RCRSxXQUFVLEdBQ2J0QixLQUFLVSxZQUFjVixLQUFLYyxhQUFhTSxjQUFjLHNCQUNuRHBCLEtBQUtZLGNBQWdCWixLQUFLYyxhQUFhTSxjQUFjLHVCQUNyRHBCLEtBQUt1QixpQkFBbUJ2QixLQUFLYyxhQUFhTSxjQUFjLGVBQ3hEcEIsS0FBS1Esa0JBQW9CUixLQUFLYyxhQUFhTSxjQUFjLGNBR3pEcEIsS0FBS1Esa0JBQWtCZ0IsSUFBTXhCLEtBQUtHLE1BQ2xDSCxLQUFLUSxrQkFBa0JpQixJQUFNekIsS0FBS0MsTUFDbENELEtBQUt1QixpQkFBaUJHLFlBQWMxQixLQUFLQyxNQUd6Q0QsS0FBS08scUJBRUVQLEtBQUtjLFlBQ2QsRUMvQ2EsTUFBTWEsRUFDbkIvQixXQUFBQSxDQUFZZ0MsRUFBU0MsR0FDbkI3QixLQUFLOEIsU0FBV0YsRUFDaEI1QixLQUFLK0IsZUFBaUJILEVBQVFJLGNBQzlCaEMsS0FBS2lDLHNCQUF3QkwsRUFBUU0scUJBQ3JDbEMsS0FBS21DLHFCQUF1QlAsRUFBUVEsb0JBQ3BDcEMsS0FBS3FDLGlCQUFtQlQsRUFBUVUsZ0JBQ2hDdEMsS0FBS3VDLFlBQWNYLEVBQVFZLFdBRTNCeEMsS0FBS3lDLGFBQWVaLENBQ3RCLENBRUFhLGVBQUFBLENBQWdCQyxHQUNkLE1BQU1DLEVBQWlCNUMsS0FBS3lDLGFBQWFyQixjQUN0QyxJQUFHdUIsRUFBUUUsWUFFZEYsRUFBUTNCLFVBQVU4QixJQUFJOUMsS0FBS3FDLGtCQUMzQk8sRUFBZWxCLFlBQWNpQixFQUFRSSxrQkFDckNILEVBQWU1QixVQUFVOEIsSUFBSTlDLEtBQUt1QyxZQUNwQyxDQUVBUyxlQUFBQSxDQUFnQkwsR0FDZCxNQUFNQyxFQUFpQjVDLEtBQUt5QyxhQUFhckIsY0FDdEMsSUFBR3VCLEVBQVFFLFlBRWRGLEVBQVEzQixVQUFVRCxPQUFPZixLQUFLcUMsa0JBQzlCTyxFQUFlbEIsWUFBYyxHQUM3QmtCLEVBQWU1QixVQUFVRCxPQUFPZixLQUFLdUMsWUFDdkMsQ0FFQVUsbUJBQUFBLENBQW9CTixHQUNiQSxFQUFRTyxTQUFTQyxNQUdwQm5ELEtBQUtnRCxnQkFBZ0JMLEdBRnJCM0MsS0FBSzBDLGdCQUFnQkMsRUFJekIsQ0FFQVMsa0JBQUFBLEdBQ0UsT0FBT0MsTUFBTUMsS0FBS3RELEtBQUt1RCxXQUFXQyxPQUFPQyxHQUFVQSxFQUFNUCxTQUFTQyxPQUNwRSxDQUVBTyxpQkFBQUEsR0FDd0IxRCxLQUFLb0Qsc0JBTXpCcEQsS0FBSzJELGNBQWMzQyxVQUFVRCxPQUFPZixLQUFLbUMsc0JBQ3pDbkMsS0FBSzJELGNBQWNDLFVBQVcsSUFKOUI1RCxLQUFLMkQsY0FBYzNDLFVBQVU4QixJQUFJOUMsS0FBS21DLHNCQUN0Q25DLEtBQUsyRCxjQUFjQyxVQUFXLEVBS2xDLENBRUFyRCxrQkFBQUEsQ0FBbUJvQyxHQUNqQkEsRUFBUWxDLGlCQUFpQixTQUFTLEtBQ2hDVCxLQUFLaUQsb0JBQW9CTixHQUN6QjNDLEtBQUswRCxtQkFBbUIsR0FFNUIsQ0FFQUcsZ0JBQUFBLEdBQ0U3RCxLQUFLdUQsVUFBWXZELEtBQUt5QyxhQUFhcUIsaUJBQWlCOUQsS0FBSytCLGdCQUN6RC9CLEtBQUsyRCxjQUFnQjNELEtBQUt5QyxhQUFhckIsY0FDckNwQixLQUFLaUMsdUJBRVBqQyxLQUFLeUMsYUFBYWhDLGlCQUFpQixVQUFXc0QsSUFDNUNBLEVBQUlDLGdCQUFnQixJQUd0QmhFLEtBQUt1RCxVQUFVVSxTQUFTdEIsSUFDdEIzQyxLQUFLTyxtQkFBbUJvQyxFQUFTM0MsS0FBSzJELGNBQWMsR0FFeEQsRUN6RWEsTUFBTU8sRUFDbkJ0RSxXQUFBQSxDQUFZdUUsR0FDVm5FLEtBQUtvRSxjQUFnQkQsRUFFckJuRSxLQUFLcUUsYUFBZXJFLEtBQUtvRSxjQUFjaEQsY0FBYyxpQkFFckRwQixLQUFLc0UsZ0JBQ0h0RSxLQUFLb0UsY0FBY2hELGNBQWMsc0JBRW5DcEIsS0FBS3VFLHdCQUEwQnZFLEtBQUt3RSxtQkFBbUJDLEtBQUt6RSxLQUM5RCxDQUVBMEUsSUFBQUEsR0FDRTFFLEtBQUtvRSxjQUFjcEQsVUFBVThCLElBQUksZ0JBQ2pDM0IsU0FBU1YsaUJBQWlCLFVBQVdULEtBQUt1RSx3QkFDNUMsQ0FFQUksS0FBQUEsR0FDRTNFLEtBQUtvRSxjQUFjcEQsVUFBVUQsT0FBTyxnQkFDcENJLFNBQVN5RCxvQkFBb0IsVUFBVzVFLEtBQUt1RSx3QkFDL0MsQ0FFQUMsa0JBQUFBLENBQW1CVCxHQUNELFdBQVpBLEVBQUljLEtBQ043RSxLQUFLMkUsT0FFVCxDQUVBRyxpQkFBQUEsR0FDRTlFLEtBQUtxRSxhQUFhNUQsaUJBQWlCLFNBQVMsS0FDMUNULEtBQUsyRSxPQUFPLElBR2QzRSxLQUFLb0UsY0FBYzNELGlCQUFpQixTQUFTLEtBQzNDVCxLQUFLMkUsT0FBTyxJQUdkM0UsS0FBS3NFLGdCQUFnQjdELGlCQUFpQixTQUFVc0UsSUFDOUNBLEVBQU1DLGlCQUFpQixHQUUzQixFQ3RDYSxNQUFNQyxVQUFzQmYsRUFDekN0RSxXQUFBQSxDQUFZdUUsRUFBZWUsR0FDekJDLE1BQU1oQixHQUNObkUsS0FBS29GLGtCQUFvQkYsRUFFekJsRixLQUFLcUYsV0FBYXJGLEtBQUtvRSxjQUFjaEQsY0FDbkMsMEJBR0ZwQixLQUFLc0YsV0FBYXRGLEtBQUtvRSxjQUFjTixpQkFDbkMsMEJBRUosQ0FFQXlCLGVBQUFBLEdBQ0UsTUFBTTFGLEVBQU8sQ0FBQyxFQU1kLE9BSkFHLEtBQUtzRixXQUFXckIsU0FBU1IsSUFDdkI1RCxFQUFLNEQsRUFBTXZELE1BQVF1RCxFQUFNK0IsS0FBSyxJQUd6QjNGLENBQ1QsQ0FFQWlGLGlCQUFBQSxHQUNFSyxNQUFNTCxvQkFFTjlFLEtBQUtxRixXQUFXNUUsaUJBQWlCLFVBQVdzRCxJQUMxQ0EsRUFBSUMsaUJBQ0osTUFBTXlCLEVBQVd6RixLQUFLdUYsa0JBQ3RCdkYsS0FBS29GLGtCQUFrQkssR0FDdkJ6RixLQUFLcUYsV0FBV0ssT0FBTyxHQUUzQixFQ25DRixNQTJCTTlELEVBQVUsQ0FDZCtELGFBQWMseUJBQ2QzRCxjQUFlLDBCQUNmRSxxQkFBc0IsaUJBQ3RCRSxvQkFBcUIseUJBQ3JCRSxnQkFBaUIscUJBQ2pCRSxXQUFZLHdCQ3ZCUm9ELEVBQWdCekUsU0FBU0MsY0FBYyxlQUN2Q3lFLEVBQW1CMUUsU0FBU0MsY0FBYyxlQUMxQzBFLEVBQWtCRCxFQUFpQnpFLGNBQ3ZDLDBCQUVJMkUsRUFBZUgsRUFBY3hFLGNBQWMsMEJBQzNDNEUsRUFBb0I3RSxTQUFTQyxjQUFjLGdCQUUzQzZFLEVBQW9COUUsU0FBU0MsY0FBYyx5QkFDM0M4RSxFQUFhL0UsU0FBU0MsY0FBYyx3QkFFcEMrRSxFQUFjaEYsU0FBU0MsY0FBYyxtQkFDckNnRixFQUFxQmpGLFNBQVNDLGNBQWMseUJBQzVDaUYsRUFBbUJSLEVBQWlCekUsY0FBYyxlQUNsRGtGLEVBQ0pULEVBQWlCekUsY0FBYyxzQkFHM0JtRixFQUFhcEYsU0FBU0MsY0FBYyxnQkFNcENvRixFQUFvQixJQUFJN0UsRUFBY0MsRUFBU2tFLEdBQy9DVyxFQUFtQixJQUFJOUUsRUFBY0MsRUFBU21FLEdBRXBEUyxFQUFrQjNDLG1CQUNsQjRDLEVBQWlCNUMsbUJBR2pCLE1BQU02QyxFQUFvQixJQ3ZDWCxjQUE2QnhDLEVBQzFDdEUsV0FBQUEsQ0FBWXVFLEdBQ1ZnQixNQUFNaEIsRUFDUixDQUVBTyxJQUFBQSxDQUFLN0UsR0FDSCxNQUFNOEcsRUFBZTNHLEtBQUtvRSxjQUFjaEQsY0FBYyxpQkFDaER3RixFQUFxQjVHLEtBQUtvRSxjQUFjaEQsY0FDNUMsNkJBR0Z1RixFQUFhbkYsSUFBTTNCLEVBQUtPLEtBQ3hCdUcsRUFBYWxGLElBQU01QixFQUFLSyxLQUN4QjBHLEVBQW1CbEYsWUFBYzdCLEVBQUtLLEtBQ3RDaUYsTUFBTVQsTUFDUixHRHdCMkNzQixHQUM3Q1UsRUFBa0I1QixvQkFHbEIsTUFBTStCLEVBQW1CLElBQUk1QixFQUMzQlksR0E2QkYsU0FBaUNoRyxHQUMvQmlILEVBQVVDLFlBQVksQ0FDcEJDLFVBQVduSCxFQUFLb0gsTUFDaEJDLGlCQUFrQnJILEVBQUtzSCxjQUd6Qk4sRUFBaUJsQyxPQUNuQixJQWpDTXlDLEVBQWdCLElBQUluQyxFQUFjVyxHQW1DeEMsU0FBOEIvRixHQUc1QndILEVBQVcsQ0FBRW5ILEtBRkFMLEVBQUtvSCxNQUVDN0csS0FETlAsRUFBS3NILGNBRWxCQyxFQUFjekMsUUFDZG9CLEVBQWFMLFFBQ2JlLEVBQWlCL0MsbUJBQ25CLElBekNBbUQsRUFBaUIvQixvQkFDakJzQyxFQUFjdEMsb0JBR2QsTUFBTXdDLEVBQVUsSUV0REQsTUFDYjFILFdBQUFBLENBQVcySCxFQUFzQkMsR0FBVyxJQUFoQyxNQUFFQyxFQUFLLFNBQUVDLEdBQVVILEVBQzdCdkgsS0FBSzJILE9BQVNGLEVBQ2R6SCxLQUFLNEgsUUFBVUYsRUFDZjFILEtBQUs2SCxXQUFhTCxDQUNwQixDQUVBTSxXQUFBQSxHQUNFOUgsS0FBSzJILE9BQU8xRCxTQUFTOEQsSUFDRS9ILEtBQUs0SCxRQUFRRyxFQUFLLEdBRzNDLENBRUFDLE9BQUFBLENBQVFDLEdBQ05qSSxLQUFLNkgsV0FBV0ssUUFBUUQsRUFDMUIsR0Z1Q0EsQ0FBRVIsTUR2RGlCLENBQ25CLENBQ0V2SCxLQUFNLGtCQUNORSxLQUFNLHNHQUVSLENBQ0VGLEtBQU0sY0FDTkUsS0FBTSx5R0FFUixDQUNFRixLQUFNLGlCQUNORSxLQUFNLDRHQUVSLENBQ0VGLEtBQU0sVUFDTkUsS0FBTSxxR0FFUixDQUNFRixLQUFNLHdCQUNORSxLQUFNLHFHQUVSLENBQ0VGLEtBQU0saUJBQ05FLEtBQU0sbUdDZ0Nlc0gsU0FBVUwsR0FDakNkLEdBRUZlLEVBQVFRLGNBR1IsTUFBTWhCLEVBQVksSUc3REgsTUFDYmxILFdBQUFBLENBQVcySCxHQUEwQyxJQUF6QyxjQUFFWSxFQUFhLHFCQUFFQyxHQUFzQmIsRUFDakR2SCxLQUFLcUksZUFBaUJGLEVBQ3RCbkksS0FBS3NJLHNCQUF3QkYsQ0FDL0IsQ0FFQUcsV0FBQUEsR0FDRSxNQUFNMUksRUFBTyxDQUFDLEVBSWQsT0FIQUEsRUFBa0IsWUFBSUcsS0FBS3FJLGVBQWUzRyxZQUMxQzdCLEVBQXlCLG1CQUFJRyxLQUFLc0ksc0JBQXNCNUcsWUFFakQ3QixDQUNULENBRUFrSCxXQUFBQSxDQUFZbEgsR0FDVkcsS0FBS3FJLGVBQWUzRyxZQUFjN0IsRUFBS21ILFVBQ3ZDaEgsS0FBS3NJLHNCQUFzQjVHLFlBQWM3QixFQUFLcUgsZ0JBQ2hELEdINEM2QixDQUM3QmlCLGNBQWVoQyxFQUNmaUMscUJBQXNCaEMsSUE4QnhCLFNBQVNyRyxFQUFpQkYsR0FDeEI2RyxFQUFrQmhDLEtBQUs3RSxFQUN6QixDQUVBLFNBQVN3SCxFQUFXbUIsR0FDbEIsTUFBTUMsRUFBYyxJQUFJOUksRUFDdEI2SSxFQUNBLGlCQUNBekksR0FDQW1CLG9CQUNGb0csRUFBUVUsUUFBUVMsRUFDbEIsQ0FJQXhDLEVBQWtCeEYsaUJBQWlCLFNBQVMsU0FBVXNFLElBeEN0RCxXQUNFLE1BQU0yRCxFQUFTNUIsRUFBVXlCLGNBRXpCbEMsRUFBaUJiLE1BQVFrRCxFQUFPdkMsWUFDaENHLEVBQXdCZCxNQUFRa0QsRUFBT3RDLGtCQUN6QyxDQW9DRXVDLEdBQ0E5QixFQUFpQm5DLE1BQ25CLElBRUF3QixFQUFXekYsaUJBQWlCLFNBQVVzRSxJQUNwQ3FDLEVBQWMxQyxNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlSW1hZ2VDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pXHJcbiAgICApO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybkNhcmRFbGVtZW50KCkge1xyXG4gICAgLy9nZXQgY2FyZCB2aWV3XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZERlc2NyaXB0aW9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1nXCIpO1xyXG5cclxuICAgIC8vY2FyZCBpbWFnZSBhbmQgc291cmNlXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIC8vc2V0IGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIC8vcmV0dXJuIGNhcmRcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IG9wdGlvbnMuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBvcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBvcHRpb25zLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBvcHRpb25zLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0Zvcm1WYWxpZGl0eSgpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2lucHV0RWxzKS5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgY29uc3QgZm91bmRJbnZhbGlkID0gIXRoaXMuX2NoZWNrRm9ybVZhbGlkaXR5KCk7XHJcblxyXG4gICAgaWYgKGZvdW5kSW52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyhpbnB1dEVsKSB7XHJcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGlucHV0RWwsIHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IHBvcHVwU2VsZWN0b3I7XHJcblxyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcblxyXG4gICAgdGhpcy5fbW9kYWxDb250YWluZXIgPVxyXG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tb2RhbENvbnRhaW5lclwiKTtcclxuXHJcbiAgICB0aGlzLl9ib3VuZEhhbmRsZUVzY2FwZUNsb3NlID0gdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2JvdW5kSGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2JvdW5kSGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY2FwZUNsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbW9kYWxDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuXHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2NvbnRhaW5lci1mb3JtXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLm1vZGFsX19jb250YWluZXItaW5wdXRcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgZm9ybURhdGEgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGZvcm1EYXRhKTtcclxuICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyLWZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHsgaW5pdGlhbENhcmRzLCBvcHRpb25zIH07XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMsIG9wdGlvbnMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vL01haW4gU2VsZWN0b3JzXHJcbmNvbnN0IGVkaXRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fY29udGFpbmVyLWZvcm1cIlxyXG4pO1xyXG5jb25zdCBjYXJkRWRpdEZvcm0gPSBlZGl0Q2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lci1mb3JtXCIpO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWxcIik7XHJcbi8vQnV0dG9uc1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZE5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbi8vRm9ybSBEYXRhXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWRlc2NyaXB0aW9uXCIpO1xyXG5cclxuLy9DYXJkIHRlbXBsYXRlXHJcbmNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuLy9cclxuLy9DbGFzcyBpbnN0YW50aWF0b3JzXHJcblxyXG4vL0Zvcm1WYWxpZGF0b3IgY2xhc3NcclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBwcm9maWxlRWRpdEZvcm0pO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Iob3B0aW9ucywgY2FyZEVkaXRGb3JtKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL1BvcHVwV2l0aEltYWdlIENsYXNzXHJcbmNvbnN0IHBvcHVwUHJldmlld0ltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHByZXZpZXdJbWFnZU1vZGFsKTtcclxucG9wdXBQcmV2aWV3SW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vUG9wdXBXaXRoRm9ybSBDbGFzc1xyXG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgZWRpdFByb2ZpbGVNb2RhbCxcclxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdFxyXG4pO1xyXG5jb25zdCBwb3B1cENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oZWRpdENhcmRNb2RhbCwgaGFuZGxlQ2FyZEZvcm1TdWJtaXQpO1xyXG5wb3B1cFByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vU2VjdGlvbiBDbGFzc1xyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgeyBpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxyXG4gIGNhcmRMaXN0RWxcclxuKTtcclxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy9Vc2VySW5mbyBDbGFzc1xyXG5jb25zdCB1c2VyQ2xhc3MgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVDb250YWluZXI6IHByb2ZpbGVOYW1lLFxyXG4gIGRlc2NyaXB0aW9uQ29udGFpbmVyOiBwcm9maWxlRGVzY3JpcHRpb24sXHJcbn0pO1xyXG5cclxuLy9cclxuLy9GdW5jdGlvbnNcclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVJbnB1dHMoKSB7XHJcbiAgY29uc3QgaW5wdXRzID0gdXNlckNsYXNzLmdldFVzZXJJbmZvKCk7XHJcblxyXG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBpbnB1dHMucHJvZmlsZU5hbWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBpbnB1dHMucHJvZmlsZURlc2NyaXB0aW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChkYXRhKSB7XHJcbiAgdXNlckNsYXNzLnNldFVzZXJJbmZvKHtcclxuICAgIG5hbWVJbnB1dDogZGF0YS50aXRsZSxcclxuICAgIGRlc2NyaXB0aW9uSW5wdXQ6IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgfSk7XHJcblxyXG4gIHBvcHVwUHJvZmlsZUZvcm0uY2xvc2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZEZvcm1TdWJtaXQoZGF0YSkge1xyXG4gIGNvbnN0IG5hbWUgPSBkYXRhLnRpdGxlO1xyXG4gIGNvbnN0IGxpbmsgPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG4gIHJlbmRlckNhcmQoeyBuYW1lLCBsaW5rIH0pO1xyXG4gIHBvcHVwQ2FyZEZvcm0uY2xvc2UoKTtcclxuICBjYXJkRWRpdEZvcm0ucmVzZXQoKTtcclxuICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soZGF0YSkge1xyXG4gIHBvcHVwUHJldmlld0ltYWdlLm9wZW4oZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIi5jYXJkLXRlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrXHJcbiAgKS5yZXR1cm5DYXJkRWxlbWVudCgpO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbi8vXHJcbi8vRXZlbnQgTGlzdGVuZXJzXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBmaWxsUHJvZmlsZUlucHV0cygpO1xyXG4gIHBvcHVwUHJvZmlsZUZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZE5ld0NhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gIHBvcHVwQ2FyZEZvcm0ub3BlbigpO1xyXG59KTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgY29uc3QgcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgY29uc3QgcHJldmlld0Rlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19pbWFnZS1kZXNjcmlwdGlvblwiXHJcbiAgICApO1xyXG5cclxuICAgIHByZXZpZXdJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICBwcmV2aWV3SW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgcHJldmlld0Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCByZW5kZXJlZEl0ZW0gPSB0aGlzLl9yZW5kZXIoaXRlbSk7XHJcbiAgICAgIC8vIHRoaXMuYWRkSXRlbShyZW5kZXJlZEl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lQ29udGFpbmVyLCBkZXNjcmlwdGlvbkNvbnRhaW5lciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lQ29udGFpbmVyID0gbmFtZUNvbnRhaW5lcjtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uQ29udGFpbmVyID0gZGVzY3JpcHRpb25Db250YWluZXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIGRhdGFbXCJwcm9maWxlTmFtZVwiXSA9IHRoaXMuX25hbWVDb250YWluZXIudGV4dENvbnRlbnQ7XHJcbiAgICBkYXRhW1wicHJvZmlsZURlc2NyaXB0aW9uXCJdID0gdGhpcy5fZGVzY3JpcHRpb25Db250YWluZXIudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lQ29udGFpbmVyLnRleHRDb250ZW50ID0gZGF0YS5uYW1lSW5wdXQ7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkNvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEuZGVzY3JpcHRpb25JbnB1dDtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9jYXJkRWxlbWVudCIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJldHVybkNhcmRFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkRGVzY3JpcHRpb24iLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJvcHRpb25zIiwiZm9ybUVsZW1lbnQiLCJfb3B0aW9ucyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsIkFycmF5IiwiZnJvbSIsIl9pbnB1dEVscyIsImV2ZXJ5IiwiaW5wdXQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmb3JFYWNoIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9tb2RhbENvbnRhaW5lciIsIl9ib3VuZEhhbmRsZUVzY2FwZUNsb3NlIiwiX2hhbmRsZUVzY2FwZUNsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsImZvcm1EYXRhIiwicmVzZXQiLCJmb3JtU2VsZWN0b3IiLCJlZGl0Q2FyZE1vZGFsIiwiZWRpdFByb2ZpbGVNb2RhbCIsInByb2ZpbGVFZGl0Rm9ybSIsImNhcmRFZGl0Rm9ybSIsInByZXZpZXdJbWFnZU1vZGFsIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGROZXdDYXJkIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJjYXJkTGlzdEVsIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwicG9wdXBQcmV2aWV3SW1hZ2UiLCJwcmV2aWV3SW1hZ2UiLCJwcmV2aWV3RGVzY3JpcHRpb24iLCJwb3B1cFByb2ZpbGVGb3JtIiwidXNlckNsYXNzIiwic2V0VXNlckluZm8iLCJuYW1lSW5wdXQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uSW5wdXQiLCJkZXNjcmlwdGlvbiIsInBvcHVwQ2FyZEZvcm0iLCJyZW5kZXJDYXJkIiwic2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJuYW1lQ29udGFpbmVyIiwiZGVzY3JpcHRpb25Db250YWluZXIiLCJfbmFtZUNvbnRhaW5lciIsIl9kZXNjcmlwdGlvbkNvbnRhaW5lciIsImdldFVzZXJJbmZvIiwiY2FyZERhdGEiLCJjYXJkRWxlbWVudCIsImlucHV0cyIsImZpbGxQcm9maWxlSW5wdXRzIl0sInNvdXJjZVJvb3QiOiIifQ==